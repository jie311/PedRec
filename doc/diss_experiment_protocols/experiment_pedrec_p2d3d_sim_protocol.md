# PedRecNet2D
## Trial Name
**experiment_pedrec_p2d3d_sim**
## Initialization
| Network Part                   | Initialization                                               |
| ------------------------------ | ------------------------------------------------------------ |
| net.model.feature_extractor    | TODO                                                         |
| net.model.conv_transpose_shared | TODO                                                         |
| net.model.head_pose_2d         | TODO                                                         |
| net.model.head_pose_3d         | TODO                                                         |
| net.model.head_orientation     | TODO                                                         |
| net.model.head_conf            | TODO                                                         |
Notes. Initialized from p2d_sim
## Datasets
### Training
| Dataset                   | Subsampling | Full set length | Used length |
| ------------------------- | ----------- | --------------- | ----------- |
| COCO (TRAIN)              | 1           | 149813          | 149813      |
| rt_rom_01b.pkl            | 1           | 147729          | 147729      |
| rt_validate_3d.pkl        | 1           | 39484           | 39484       |
### Validation
| Dataset                   | Subsampling | Full set length | Used length |
| ------------------------- | ----------- | --------------- | ----------- |
| COCO (VAL)                | 1           | 6352            | 6352        |
| rt_validate_3d.pkl        | 10          | 3949            | 3949        |
| h36m_val_pedrec.pkl       | 64          | 8604            | 8604        |
## Augmentation
### Training Augmentations - COCO
| Augmentation              | Value                     |
| ------------------------- | ------------------------- |
| Scale                     | 0.25                      |
| Flip                      | True                      |
| Rotate                    | 30                        |
### Training Augmentations - SIM
| Augmentation              | Value                     |
| ------------------------- | ------------------------- |
| Scale                     | 0.25                      |
| Flip                      | True                      |
| Rotate                    | 0                         |
### Training Augmentations - H36M
| Augmentation              | Value                     |
| ------------------------- | ------------------------- |
| Scale                     | 0.25                      |
| Flip                      | True                      |
| Rotate                    | 0                         |
## General data preparation
```python
trans = transforms.Compose([
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225])
])
```
suggested lr: 2.08e-03
## Round 0
- Epochs: **10**
- LR Scheduler: **OneCycleLR**
### Optimizer
| Property                  | Value                     |
| ------------------------- | ------------------------- |
| name                      | AdamW                     |
| lr                        | 0.001                     |
| betas                     | (0.9, 0.999)              |
| eps                       | 1e-08                     |
| weight_decay              | 0.01                      |
| amsgrad                   | False                     |
### LRs
| Network Part              | LRs                  | Frozen? |
| ------------------------- | -------------------- | ------- |
| net.model.feature_extractor | 2.08e-03, 2.08e-03   | True    |
| net.model.conv_transpose_shared | 2.08e-03, 2.08e-03   | False   |
| net.model.head_pose_2d    | 2.08e-03, 2.08e-03   | False   |
| net.model.head_pose_3d    | 2.08e-03, 2.08e-03   | False   |
| net.model.head_orientation | 0.00e+00, 0.00e+00   | False   |
| net.model.head_conf       | 0.00e+00, 0.00e+00   | False   |
### Results
| Epoch | Train Loss | COCO PCK@0.05 | COCO PCK@0.2 | COCO Val Loss | COCO Val Time | SIM PCK@0.05 | SIM PCK@0.2 | SIM MPJPE | SIM MRCJP | SIM MRCD | SIM Val Loss | SIM Val Time | H36M PCK@0.05 | H36M PCK@0.2 | H36M MPJPE | H36M MRCJP | H36M MRCD | H36M Val Loss | H36M Val Time | Train Time |
| ----- | ---------- | ------------- | ------------ | ------------- | ------------- | ------------ | ----------- | --------- | --------- | -------- | ------------ | ------------ | ------------- | ------------ | ---------- | ---------- | --------- | ------------- | ------------- | ---------- |
| 0     | 0.26164    | 54.33         | 92.29        | 0.2034        | 0:00:35       | 91.42        | 99.96       | 65.39     | 0.64      | 0.83     | 0.0692       | 0:00:25      | 23.92         | 85.77        | 186.77     | 0.53       | 0.76      | 0.1802        | 0:00:47       | 1:06:03    |
| 1     | 0.07984    | 54.23         | 92.11        | 0.2095        | 0:00:34       | 91.02        | 99.95       | 52.24     | 0.68      | 0.86     | 0.0649       | 0:00:24      | 23.76         | 85.60        | 186.93     | 0.54       | 0.76      | 0.1840        | 0:00:46       | 1:06:01    |
| 2     | 0.07541    | 54.08         | 92.06        | 0.2128        | 0:00:34       | 90.05        | 99.93       | 42.81     | 0.72      | 0.88     | 0.0611       | 0:00:24      | 23.35         | 85.55        | 177.81     | 0.56       | 0.79      | 0.1819        | 0:00:46       | 1:06:01    |
| 3     | 0.07162    | 53.87         | 92.14        | 0.2159        | 0:00:34       | 91.06        | 99.95       | 37.40     | 0.75      | 0.90     | 0.0578       | 0:00:24      | 24.17         | 85.75        | 175.84     | 0.55       | 0.79      | 0.1861        | 0:00:46       | 1:06:02    |
| 4     | 0.06857    | 53.93         | 92.10        | 0.2178        | 0:00:34       | 91.77        | 99.95       | 33.70     | 0.76      | 0.90     | 0.0555       | 0:00:24      | 24.60         | 85.83        | 180.41     | 0.54       | 0.76      | 0.1945        | 0:00:46       | 1:06:02    |
| 5     | 0.06605    | 54.16         | 92.11        | 0.2173        | 0:00:34       | 92.35        | 99.96       | 30.57     | 0.78      | 0.91     | 0.0530       | 0:00:24      | 23.72         | 85.73        | 180.14     | 0.55       | 0.77      | 0.1981        | 0:00:46       | 1:06:02    |
| 6     | 0.06378    | 54.25         | 92.22        | 0.2211        | 0:00:34       | 93.19        | 99.96       | 27.47     | 0.80      | 0.92     | 0.0509       | 0:00:24      | 23.47         | 85.68        | 178.76     | 0.54       | 0.77      | 0.2035        | 0:00:46       | 1:06:02    |
| 7     | 0.06185    | 54.34         | 92.20        | 0.2230        | 0:00:34       | 93.58        | 99.97       | 25.78     | 0.81      | 0.93     | 0.0496       | 0:00:24      | 24.15         | 85.83        | 179.33     | 0.54       | 0.77      | 0.2048        | 0:00:46       | 1:06:02    |
| 8     | 0.06048    | 54.44         | 92.22        | 0.2240        | 0:00:34       | 93.73        | 99.97       | 24.75     | 0.81      | 0.94     | 0.0488       | 0:00:24      | 23.94         | 85.80        | 180.11     | 0.54       | 0.77      | 0.2096        | 0:00:46       | 1:06:02    |
| 9     | 0.05985    | 54.57         | 92.20        | 0.2246        | 0:00:34       | 93.87        | 99.97       | 24.40     | 0.82      | 0.94     | 0.0485       | 0:00:24      | 24.16         | 85.85        | 179.95     | 0.54       | 0.77      | 0.2099        | 0:00:46       | 1:06:01    |
## Round 1
- Epochs: **5**
- LR Scheduler: **OneCycleLR**
### Optimizer
| Property                  | Value                     |
| ------------------------- | ------------------------- |
| name                      | AdamW                     |
| lr                        | 0.001                     |
| betas                     | (0.9, 0.999)              |
| eps                       | 1e-08                     |
| weight_decay              | 0.01                      |
| amsgrad                   | False                     |
### LRs
| Network Part              | LRs                  | Frozen? |
| ------------------------- | -------------------- | ------- |
| net.model.feature_extractor | 1.04e-04, 1.04e-04   | False   |
| net.model.conv_transpose_shared | 2.08e-04, 2.08e-04   | False   |
| net.model.head_pose_2d    | 2.08e-04, 2.08e-04   | False   |
| net.model.head_pose_3d    | 2.08e-04, 2.08e-04   | False   |
| net.model.head_orientation | 0.00e+00, 0.00e+00   | False   |
| net.model.head_conf       | 0.00e+00, 0.00e+00   | False   |
### Results
| Epoch | Train Loss | COCO PCK@0.05 | COCO PCK@0.2 | COCO Val Loss | COCO Val Time | SIM PCK@0.05 | SIM PCK@0.2 | SIM MPJPE | SIM MRCJP | SIM MRCD | SIM Val Loss | SIM Val Time | H36M PCK@0.05 | H36M PCK@0.2 | H36M MPJPE | H36M MRCJP | H36M MRCD | H36M Val Loss | H36M Val Time | Train Time |
| ----- | ---------- | ------------- | ------------ | ------------- | ------------- | ------------ | ----------- | --------- | --------- | -------- | ------------ | ------------ | ------------- | ------------ | ---------- | ---------- | --------- | ------------- | ------------- | ---------- |
| 0     | 0.05922    | 54.22         | 92.07        | 0.2239        | 0:00:34       | 94.16        | 99.97       | 23.78     | 0.82      | 0.94     | 0.0477       | 0:00:24      | 24.06         | 85.82        | 180.78     | 0.54       | 0.76      | 0.2116        | 0:00:46       | 1:17:58    |
| 1     | 0.05813    | 53.95         | 91.93        | 0.2255        | 0:00:34       | 94.76        | 99.98       | 22.29     | 0.82      | 0.94     | 0.0465       | 0:00:24      | 24.22         | 85.88        | 180.17     | 0.54       | 0.76      | 0.2138        | 0:00:46       | 1:17:57    |
| 2     | 0.05672    | 54.13         | 92.01        | 0.2271        | 0:00:34       | 95.20        | 99.98       | 20.78     | 0.83      | 0.94     | 0.0450       | 0:00:24      | 23.98         | 85.82        | 179.42     | 0.55       | 0.77      | 0.2193        | 0:00:46       | 1:17:58    |
| 3     | 0.05556    | 54.26         | 92.11        | 0.2289        | 0:00:34       | 95.50        | 99.99       | 19.98     | 0.84      | 0.95     | 0.0443       | 0:00:24      | 24.26         | 85.84        | 180.12     | 0.54       | 0.77      | 0.2227        | 0:00:46       | 1:17:57    |
| 4     | 0.05511    | 54.25         | 92.11        | 0.2297        | 0:00:34       | 95.57        | 99.99       | 19.74     | 0.84      | 0.95     | 0.0441       | 0:00:24      | 23.90         | 85.74        | 179.99     | 0.54       | 0.77      | 0.2244        | 0:00:46       | 1:17:57    |
