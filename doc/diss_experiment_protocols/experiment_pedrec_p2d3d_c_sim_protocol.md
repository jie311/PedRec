# PedRecNet2D
## Trial Name
**experiment_pedrec_p2d3d_c_sim**
## Initialization
| Network Part                   | Initialization                                               |
| ------------------------------ | ------------------------------------------------------------ |
| net.model.feature_extractor    | TODO                                                         |
| net.model.conv_transpose_shared | TODO                                                         |
| net.model.head_pose_2d         | TODO                                                         |
| net.model.head_pose_3d         | TODO                                                         |
| net.model.head_orientation     | TODO                                                         |
| net.model.head_conf            | TODO                                                         |
Notes. Initialized from p2d3d_sim
## Datasets
### Training
| Dataset                   | Subsampling | Full set length | Used length |
| ------------------------- | ----------- | --------------- | ----------- |
| COCO (TRAIN)              | 1           | 149813          | 149813      |
| rt_rom_01b.pkl            | 1           | 147729          | 147729      |
| rt_validate_3d.pkl        | 1           | 39484           | 39484       |
### Validation
| Dataset                   | Subsampling | Full set length | Used length |
| ------------------------- | ----------- | --------------- | ----------- |
| COCO (VAL)                | 1           | 6352            | 6352        |
| rt_validate_3d.pkl        | 10          | 3949            | 3949        |
| h36m_val_pedrec.pkl       | 64          | 8604            | 8604        |
## Augmentation
### Training Augmentations - COCO
| Augmentation              | Value                     |
| ------------------------- | ------------------------- |
| Scale                     | 0.25                      |
| Flip                      | True                      |
| Rotate                    | 30                        |
### Training Augmentations - SIM
| Augmentation              | Value                     |
| ------------------------- | ------------------------- |
| Scale                     | 0.25                      |
| Flip                      | True                      |
| Rotate                    | 0                         |
### Training Augmentations - H36M
| Augmentation              | Value                     |
| ------------------------- | ------------------------- |
| Scale                     | 0.25                      |
| Flip                      | True                      |
| Rotate                    | 0                         |
## General data preparation
```python
trans = transforms.Compose([
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225])
])
```
suggested lr: 3.71e-04
## Round 0
- Epochs: **10**
- LR Scheduler: **OneCycleLR**
### Optimizer
| Property                  | Value                     |
| ------------------------- | ------------------------- |
| name                      | AdamW                     |
| lr                        | 0.001                     |
| betas                     | (0.9, 0.999)              |
| eps                       | 1e-08                     |
| weight_decay              | 0.01                      |
| amsgrad                   | False                     |
### LRs
| Network Part              | LRs                  | Frozen? |
| ------------------------- | -------------------- | ------- |
| net.model.feature_extractor | 3.71e-04, 3.71e-04   | True    |
| net.model.conv_transpose_shared | 3.71e-04, 3.71e-04   | False   |
| net.model.head_pose_2d    | 3.71e-04, 3.71e-04   | False   |
| net.model.head_pose_3d    | 3.71e-04, 3.71e-04   | False   |
| net.model.head_orientation | 0.00e+00, 0.00e+00   | False   |
| net.model.head_conf       | 3.71e-04, 3.71e-04   | False   |
### Results
| Epoch | Train Loss | COCO PCK@0.05 | COCO PCK@0.2 | COCO JointAcc | COCO Val Loss | COCO Val Time | SIM PCK@0.05 | SIM PCK@0.2 | SIM MPJPE | SIM MRCJP | SIM MRCD | SIM JointAcc | SIM Val Loss | SIM Val Time | H36M PCK@0.05 | H36M PCK@0.2 | H36M MPJPE | H36M MRCJP | H36M MRCD | H36M JointAcc | H36M Val Loss | H36M Val Time | Train Time |
| ----- | ---------- | ------------- | ------------ | ------------- | ------------- | ------------- | ------------ | ----------- | --------- | --------- | -------- | ------------ | ------------ | ------------ | ------------- | ------------ | ---------- | ---------- | --------- | ------------- | ------------- | ------------- | ---------- |
| 0     | 1.78232    | 54.21         | 92.09        | 0.87          | 0.9690        | 0:00:22       | 95.54        | 99.98       | 19.85     | 0.84      | 0.94     | 1.00         | 0.0320       | 0:00:19      | 24.16         | 85.81        | 180.10     | 0.55       | 0.77      | 0.99          | 0.3568        | 0:00:29       | 0:37:53    |
| 1     | 0.23428    | 54.30         | 92.08        | 0.88          | 0.4710        | 0:00:21       | 95.58        | 99.99       | 20.06     | 0.84      | 0.95     | 1.00         | 0.0517       | 0:00:18      | 24.21         | 85.82        | 180.96     | 0.54       | 0.77      | 0.99          | 0.2857        | 0:00:28       | 0:37:54    |
| 2     | 0.12017    | 54.26         | 92.03        | 0.89          | 0.5307        | 0:00:21       | 95.54        | 99.98       | 19.87     | 0.84      | 0.94     | 1.00         | 0.0686       | 0:00:18      | 24.01         | 85.66        | 179.44     | 0.55       | 0.77      | 0.98          | 0.3570        | 0:00:28       | 0:37:55    |
| 3     | 0.11372    | 54.25         | 92.05        | 0.89          | 0.5362        | 0:00:21       | 95.61        | 99.99       | 19.57     | 0.84      | 0.95     | 1.00         | 0.0684       | 0:00:19      | 24.30         | 85.76        | 180.56     | 0.54       | 0.76      | 0.98          | 0.3631        | 0:00:28       | 0:37:54    |
| 4     | 0.11196    | 54.23         | 92.09        | 0.89          | 0.5318        | 0:00:21       | 95.77        | 99.99       | 19.10     | 0.84      | 0.95     | 1.00         | 0.0673       | 0:00:19      | 24.19         | 85.78        | 180.89     | 0.54       | 0.76      | 0.97          | 0.3707        | 0:00:28       | 0:37:55    |
| 5     | 0.11050    | 54.33         | 92.14        | 0.90          | 0.5274        | 0:00:21       | 95.84        | 99.99       | 18.74     | 0.85      | 0.95     | 1.00         | 0.0664       | 0:00:19      | 24.16         | 85.79        | 180.69     | 0.54       | 0.76      | 0.98          | 0.3695        | 0:00:28       | 0:37:56    |
| 6     | 0.10936    | 54.25         | 92.10        | 0.90          | 0.5286        | 0:00:21       | 95.90        | 99.99       | 18.43     | 0.85      | 0.95     | 1.00         | 0.0658       | 0:00:19      | 23.97         | 85.78        | 179.72     | 0.54       | 0.77      | 0.97          | 0.3697        | 0:00:28       | 0:37:55    |
| 7     | 0.10854    | 54.33         | 92.07        | 0.90          | 0.5265        | 0:00:21       | 95.94        | 99.99       | 18.19     | 0.85      | 0.95     | 1.00         | 0.0653       | 0:00:19      | 24.07         | 85.79        | 180.42     | 0.54       | 0.76      | 0.97          | 0.3665        | 0:00:28       | 0:37:55    |
| 8     | 0.10815    | 54.30         | 92.11        | 0.90          | 0.5248        | 0:00:21       | 95.99        | 99.99       | 18.08     | 0.85      | 0.95     | 1.00         | 0.0649       | 0:00:19      | 23.87         | 85.77        | 180.20     | 0.54       | 0.77      | 0.98          | 0.3658        | 0:00:28       | 0:37:57    |
| 9     | 0.10809    | 54.31         | 92.13        | 0.90          | 0.5248        | 0:00:21       | 96.02        | 99.99       | 18.01     | 0.85      | 0.95     | 1.00         | 0.0648       | 0:00:19      | 24.19         | 85.83        | 180.68     | 0.54       | 0.77      | 0.97          | 0.3662        | 0:00:28       | 0:37:56    |
## Round 1
- Epochs: **5**
- LR Scheduler: **OneCycleLR**
### Optimizer
| Property                  | Value                     |
| ------------------------- | ------------------------- |
| name                      | AdamW                     |
| lr                        | 0.001                     |
| betas                     | (0.9, 0.999)              |
| eps                       | 1e-08                     |
| weight_decay              | 0.01                      |
| amsgrad                   | False                     |
### LRs
| Network Part              | LRs                  | Frozen? |
| ------------------------- | -------------------- | ------- |
| net.model.feature_extractor | 1.85e-05, 1.85e-05   | False   |
| net.model.conv_transpose_shared | 3.71e-05, 3.71e-05   | False   |
| net.model.head_pose_2d    | 3.71e-05, 3.71e-05   | False   |
| net.model.head_pose_3d    | 3.71e-05, 3.71e-05   | False   |
| net.model.head_orientation | 0.00e+00, 0.00e+00   | False   |
| net.model.head_conf       | 3.71e-05, 3.71e-05   | False   |
### Results
| Epoch | Train Loss | COCO PCK@0.05 | COCO PCK@0.2 | COCO JointAcc | COCO Val Loss | COCO Val Time | SIM PCK@0.05 | SIM PCK@0.2 | SIM MPJPE | SIM MRCJP | SIM MRCD | SIM JointAcc | SIM Val Loss | SIM Val Time | H36M PCK@0.05 | H36M PCK@0.2 | H36M MPJPE | H36M MRCJP | H36M MRCD | H36M JointAcc | H36M Val Loss | H36M Val Time | Train Time |
| ----- | ---------- | ------------- | ------------ | ------------- | ------------- | ------------- | ------------ | ----------- | --------- | --------- | -------- | ------------ | ------------ | ------------ | ------------- | ------------ | ---------- | ---------- | --------- | ------------- | ------------- | ------------- | ---------- |
| 0     | 0.10685    | 54.17         | 92.05        | 0.90          | 0.5185        | 0:00:21       | 96.02        | 99.99       | 18.01     | 0.85      | 0.95     | 1.00         | 0.0643       | 0:00:18      | 24.03         | 85.81        | 180.45     | 0.54       | 0.77      | 0.98          | 0.3678        | 0:00:28       | 0:45:18    |
| 1     | 0.10457    | 54.15         | 92.09        | 0.90          | 0.5194        | 0:00:21       | 96.05        | 99.99       | 17.92     | 0.85      | 0.95     | 1.00         | 0.0643       | 0:00:19      | 24.24         | 85.83        | 180.25     | 0.54       | 0.77      | 0.97          | 0.3701        | 0:00:28       | 0:45:17    |
| 2     | 0.10400    | 54.28         | 92.07        | 0.90          | 0.5209        | 0:00:21       | 96.17        | 99.99       | 17.68     | 0.85      | 0.95     | 1.00         | 0.0640       | 0:00:19      | 24.17         | 85.77        | 180.90     | 0.54       | 0.77      | 0.97          | 0.3740        | 0:00:28       | 0:45:19    |
| 3     | 0.10493    | 54.33         | 92.08        | 0.90          | 0.5237        | 0:00:21       | 96.17        | 99.99       | 17.56     | 0.85      | 0.95     | 1.00         | 0.0641       | 0:00:19      | 24.21         | 85.79        | 180.39     | 0.54       | 0.77      | 0.98          | 0.3703        | 0:00:28       | 0:45:18    |
| 4     | 0.10646    | 54.24         | 92.04        | 0.90          | 0.5251        | 0:00:21       | 96.18        | 99.99       | 17.51     | 0.85      | 0.95     | 1.00         | 0.0640       | 0:00:18      | 23.94         | 85.71        | 180.58     | 0.54       | 0.77      | 0.98          | 0.3705        | 0:00:28       | 0:45:18    |
